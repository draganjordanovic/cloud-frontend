<mat-toolbar color="primary" class="user-toolbar">
  <span class="app-title">ðŸŽµ Discover Music</span>
</mat-toolbar>

<div class="discover-page">

  <mat-card class="filter-card">
    <h2 class="card-title">Filter by Genre</h2>
    <div class="filter-fields">
      <mat-form-field appearance="fill">
        <input matInput
               placeholder="Enter Genre"
               [formControl]="genreControl"
               (keyup.enter)="filterByGenre()" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Type</mat-label>
        <mat-select [formControl]="typeControl">
          <mat-option value="">All</mat-option>
          <mat-option value="ALBUM">Albums</mat-option>
          <mat-option value="ARTIST">Artists</mat-option>
         <!-- <mat-option value="SONG">Songs</mat-option> -->
        </mat-select>
      </mat-form-field>
    </div>

    <button mat-raised-button color="primary" class="apply-btn" (click)="filterByGenre()">
      Apply Filter
    </button>
  </mat-card>

  <div *ngIf="filteredContent.length === 0" class="no-content-page">
    <div class="no-content-message">
      <h2>ðŸŽµ No content available</h2>
      <p>Try adjusting the genre or type filter to see some music.</p>
    </div>
  </div>
  <!-- Content grid -->
  <div class="content-list">
    <mat-card class="music-card"
              *ngFor="let item of filteredContent"
              (click)="openAlbumDetails(item)"
              [class.clickable]="item.type === 'album'">

      <div class="music-card-image-container">
        <img ngSrc="{{ item.cover }}"
             alt="{{ item.title || item.name }}"
             class="music-card-image" fill>
      </div>

      <mat-card-content>
        <h3 class="music-card-title">{{ item.title || item.name }}</h3>

        <!-- Album info -->
        <p *ngIf="item.type === 'album' && item.artistNames?.length">
          By {{ item.artistNames.join(', ') }}
        </p>
        <p *ngIf="item.type === 'album' && item.releaseYear">
          Year: {{ item.releaseYear }}
        </p>

        <!-- Artist info -->
        <p *ngIf="item.type === 'artist' && item.bio">
          {{ item.bio }}
        </p>
      </mat-card-content>
    </mat-card>
  </div>

</div>
