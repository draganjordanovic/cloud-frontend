<div class="discover-page">
  <!-- Header -->
  <div class="discover-header">
    <h1>Discover New Music</h1>
    <p>Find artists and albums that match your vibe ðŸŽ§</p>
  </div>

  <!-- Filter Section -->
  <mat-card class="filter-card">
    <div class="filter-fields">
      <mat-form-field appearance="outline" floatLabel="always">
        <mat-label>Genre</mat-label>
        <input
          matInput
          placeholder="Enter genre..."
          [formControl]="genreControl"
          (keyup.enter)="filterByGenre()"
        />
      </mat-form-field>

      <mat-form-field appearance="outline" floatLabel="always">
        <mat-label>Type</mat-label>
        <mat-select [formControl]="typeControl">
          <mat-option value="">All</mat-option>
          <mat-option value="ALBUM">Albums</mat-option>
          <mat-option value="ARTIST">Artists</mat-option>
        </mat-select>
      </mat-form-field>

      <button
        mat-flat-button
        color="primary"
        class="apply-btn"
        (click)="filterByGenre()"
      >
        <mat-icon>filter_alt</mat-icon>
        Apply
      </button>
    </div>
  </mat-card>

  <!-- No Content Message -->
  <div *ngIf="filteredContent.length === 0" class="no-content-page">
    <div class="no-content-message">
      <h2>ðŸŽµ No content found</h2>
      <p>Try a different genre or type to explore more music.</p>
    </div>
  </div>

  <!-- Content Grid -->
  <div class="content-list" *ngIf="filteredContent.length > 0">
    <mat-card
      class="music-card"
      *ngFor="let item of filteredContent"
      (click)="item.type === 'album' ? openAlbumDetails(item) : openArtistDetails(item)"
    >
      <div class="music-card-image-container">
        <img
          [src]="item.cover || 'assets/default-cover.png'"
          alt="{{ item.title || item.name }}"
          class="music-card-image"
        />
      </div>

      <mat-card-content>
        <h3 class="music-card-title">{{ item.title || item.name }}</h3>

        <ng-container *ngIf="item.type === 'album'">
          <p *ngIf="item.artistNames?.length">
            <strong>By:</strong> {{ item.artistNames.join(', ') }}
          </p>
          <p *ngIf="item.releaseYear">
            <strong>Year:</strong> {{ item.releaseYear }}
          </p>
          <p *ngIf="item.genre">
            <strong>Genre:</strong> {{ item.genre }}
          </p>
        </ng-container>

        <ng-container *ngIf="item.type === 'artist'">
          <p *ngIf="item.genre"><strong>Genre:</strong> {{ item.genre }}</p>
          <p *ngIf="item.bio">{{ item.bio }}</p>
        </ng-container>
      </mat-card-content>
    </mat-card>
  </div>
</div>
